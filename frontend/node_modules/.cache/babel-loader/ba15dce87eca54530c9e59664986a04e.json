{"ast":null,"code":"import React,{useEffect,useState,Fragment}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{signin}from'../actions/userActions';import{saveOrder,listOrders,deleteOrder}from'../actions/orderActions';import{productDetailsReducer}from'../reducers/productReducers';var OrdersScreen=function OrdersScreen(props){var orderList=useSelector(function(state){return state.orderList;});console.log('orderlist show',orderList);var loading=orderList.loading,orders=orderList.orders,error=orderList.error;console.log('orderlist orders',orders);var orderDelete=useSelector(function(state){return state.orderDelete;});var loadingDelete=orderDelete.loading,successDelete=orderDelete.success,errorDelete=orderDelete.error;var dispatch=useDispatch();useEffect(function(){dispatch(listOrders());},[orderDelete]);var deleteHandler=function deleteHandler(order){dispatch(deleteOrder(order._id));};return/*#__PURE__*/React.createElement(Fragment,null,loading?/*#__PURE__*/React.createElement(\"div\",null,\"Loading\"):/*#__PURE__*/React.createElement(\"div\",{className:\"content content-margined\"},/*#__PURE__*/React.createElement(\"div\",{className:\"order-list\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"DATE\"),/*#__PURE__*/React.createElement(\"th\",null,\"TOTAL\"),/*#__PURE__*/React.createElement(\"th\",null,\"USER\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,orders.map(function(order){return/*#__PURE__*/React.createElement(\"tr\",{key:order._id},/*#__PURE__*/React.createElement(\"td\",null,order._id),/*#__PURE__*/React.createElement(\"td\",null,order.createdAt),/*#__PURE__*/React.createElement(\"td\",null,order.totalPrice),/*#__PURE__*/React.createElement(\"td\",null,order.user.name),/*#__PURE__*/React.createElement(\"td\",null,order.isPaid.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.paidAt),/*#__PURE__*/React.createElement(\"td\",null,order.isDelivered.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.deliveredAt),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/order/\"+order._id,className:\"button secondary\"},\"Details\"),' ',/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return deleteHandler(order);},className:\"button secondary\"},\"Delete\")));}))))));};export default OrdersScreen;","map":{"version":3,"sources":["/Users/leifu/Documents/amazona-Video-05-Sidebar/frontend/src/Screens/OrdersScreen.js"],"names":["React","useEffect","useState","Fragment","useDispatch","useSelector","Link","signin","saveOrder","listOrders","deleteOrder","productDetailsReducer","OrdersScreen","props","orderList","state","console","log","loading","orders","error","orderDelete","loadingDelete","successDelete","success","errorDelete","dispatch","deleteHandler","order","_id","map","createdAt","totalPrice","user","name","isPaid","toString","paidAt","isDelivered","deliveredAt"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Fragment } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {signin} from '../actions/userActions';\nimport { saveOrder, listOrders, deleteOrder } from '../actions/orderActions';\nimport { productDetailsReducer } from '../reducers/productReducers';\nconst OrdersScreen =(props) => {\n\n    const orderList = useSelector(state => state.orderList );\n    console.log('orderlist show', orderList);\n    const { loading, orders, error} = orderList;\n    console.log('orderlist orders', orders);\n    const orderDelete = useSelector(state => state.orderDelete);\n    const {loading: loadingDelete, success: successDelete, error: errorDelete} = orderDelete;\n    const dispatch = useDispatch();\n    useEffect(\n       ()=>{\n           dispatch(listOrders());  \n       }\n    , [orderDelete]);\n    \n    const deleteHandler = (order) => {\n        dispatch(deleteOrder(order._id));\n    } \n    \n    return (<Fragment>\n       { loading? <div>Loading</div>:(\n     <div className=\"content content-margined\">       \n        <div className =\"order-list\">\n            <table className=\"table\">\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>DATE</th>\n                        <th>TOTAL</th>\n                        <th>USER</th>\n                        <th>PAID</th>\n                        <th>PAID AT</th>\n                        <th>DELIVERED</th>\n                        <th>DELIVERED AT</th>\n                        <th>ACTIONS</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                {orders.map(order => (<tr key={order._id}>\n              <td>{order._id}</td>\n              <td>{order.createdAt}</td>\n              <td>{order.totalPrice}</td>\n              <td>{order.user.name}</td>\n              <td>{order.isPaid.toString()}</td>\n              <td>{order.paidAt}</td>\n              <td>{order.isDelivered.toString()}</td>\n              <td>{order.deliveredAt}</td>\n              <td>\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\n                {' '}\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\n              </td>\n            </tr>))}\n\n                        \n                </tbody>\n            </table>\n        </div>\n    </div>)}\n    </Fragment>\n        \n    )\n\n}\n\nexport default OrdersScreen;"]},"metadata":{},"sourceType":"module"}